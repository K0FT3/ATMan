(function(e){function t(t){for(var r,i,o=t[0],d=t[1],c=t[2],u=0,m=[];u<o.length;u++)i=o[u],Object.prototype.hasOwnProperty.call(s,i)&&s[i]&&m.push(s[i][0]),s[i]=0;for(r in d)Object.prototype.hasOwnProperty.call(d,r)&&(e[r]=d[r]);l&&l(t);while(m.length)m.shift()();return n.push.apply(n,c||[]),a()}function a(){for(var e,t=0;t<n.length;t++){for(var a=n[t],r=!0,o=1;o<a.length;o++){var d=a[o];0!==s[d]&&(r=!1)}r&&(n.splice(t--,1),e=i(i.s=a[0]))}return e}var r={},s={app:0},n=[];function i(t){if(r[t])return r[t].exports;var a=r[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=e,i.c=r,i.d=function(e,t,a){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(a,r,function(t){return e[t]}.bind(null,r));return a},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],d=o.push.bind(o);o.push=t,o=o.slice();for(var c=0;c<o.length;c++)t(o[c]);var l=d;n.push(["56d7","chunk-vendors"]),a()})({"07ed":function(e,t,a){},"1d84":function(e,t,a){"use strict";var r=a("aab8"),s=a.n(r);s.a},"28d1":function(e,t,a){"use strict";var r=a("e9b7"),s=a.n(r);s.a},"2c95":function(e,t,a){"use strict";var r=a("73ba"),s=a.n(r);s.a},"2e82":function(e,t,a){"use strict";var r=a("9458"),s=a.n(r);s.a},"42de":function(e,t,a){},5200:function(e,t,a){"use strict";var r=a("79be"),s=a.n(r);s.a},"56d7":function(e,t,a){"use strict";a.r(t);var r={};a.r(r),a.d(r,"user",(function(){return ht})),a.d(r,"hasBoards",(function(){return vt})),a.d(r,"personalBoards",(function(){return gt})),a.d(r,"teamBoards",(function(){return bt}));var s={};a.r(s),a.d(s,"logout",(function(){return Ct})),a.d(s,"getMyData",(function(){return _t})),a.d(s,"addTeam",(function(){return wt})),a.d(s,"addBoard",(function(){return $t}));a("d3b7"),a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("2b0e"),i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("router-view")],1)},o=[],d=(a("3e48"),{name:"App",created:function(){var e=this;this.$bus.$on("myDataFetched",(function(t){e.$rt.init(t.settings.realTimeServerUrl,t.user.token)})),this.$bus.$on("user.unauthenticated",(function(){e.$router.push({name:"login"})}))}}),c=d,l=(a("5c0b"),a("2877")),u=Object(l["a"])(c,i,o,!1,null,null,null),m=u.exports,p=a("8c4f"),f=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("PageHeader"),a("div",{staticClass:"boards-container"},[a("div",{staticClass:"boards-section"},[a("h2",{staticClass:"section-title"},[e._v(e._s(e.$t("homePage.personalBoards")))]),a("div",{staticClass:"boards d-flex align-content-start flex-wrap"},[e._l(e.personalBoards,(function(t){return a("div",{key:t.id,staticClass:"board list-inline-item",on:{click:function(a){return e.openBoard(t)}}},[a("h3",[e._v(e._s(t.name))]),a("p",[e._v(e._s(t.description))])])})),a("div",{staticClass:"board add list-inline-item",on:{click:function(t){return e.createBoard()}}},[a("font-awesome-icon",{attrs:{icon:"plus"}}),a("div",[e._v(e._s(e.$t("homePage.createNewBoard")))])],1)],2)]),e._l(e.teamBoards,(function(t){return a("div",{key:t.id,staticClass:"boards-section"},[a("h2",{staticClass:"section-title"},[e._v(e._s(t.name))]),a("div",{staticClass:"boards d-flex align-content-start flex-wrap"},[e._l(t.boards,(function(t){return a("div",{key:t.id,staticClass:"board list-inline-item",on:{click:function(a){return e.openBoard(t)}}},[a("h3",[e._v(e._s(t.name))]),a("p",[e._v(e._s(t.description))])])})),a("div",{staticClass:"board add list-inline-item",on:{click:function(a){return e.createBoard(t)}}},[a("font-awesome-icon",{attrs:{icon:"plus"}}),a("div",[e._v(e._s(e.$t("homePage.createNewBoard")))])],1)],2)])})),a("div",{staticClass:"create-team-wrapper"},[a("button",{staticClass:"btn btn-link",on:{click:function(t){return e.createTeam()}}},[e._v(" + "+e._s(e.$t("homePage.createNewTeam"))+" ")])])],2),a("CreateBoardModal",{attrs:{teamId:e.selectedTeamId},on:{created:e.onBoardCreated}}),a("CreateTeamModal")],1)},h=[],v=a("5530"),g=a("1157"),b=a.n(g),C=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"page-header d-flex align-content-center"},[a("div",{staticClass:"logo",on:{click:function(t){return e.goHome()}}},[a("font-awesome-icon",{staticClass:"home-icon",attrs:{icon:"home"}}),a("img",{attrs:{src:"/images/logo.png"}})],1),a("div",{staticClass:"boards-menu-toggle"},[a("div",{staticClass:"dropdown"},[a("button",{staticClass:"btn dropdown-toggle",attrs:{type:"button",id:"boardsMenu","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[e._v(" "+e._s(e.$t("header.boardsMenu.label"))+" ")]),a("div",{staticClass:"dropdown-menu",attrs:{"aria-labelledby":"boardsMenu"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:!e.hasBoards,expression:"!hasBoards"}],staticClass:"dropdown-item"},[e._v(" "+e._s(e.$t("header.boardsMenu.noBoard"))+" ")]),a("div",{directives:[{name:"show",rawName:"v-show",value:e.hasBoards,expression:"hasBoards"}]},[a("h6",{directives:[{name:"show",rawName:"v-show",value:e.personalBoards.length,expression:"personalBoards.length"}],staticClass:"dropdown-header"},[e._v(" "+e._s(e.$t("header.boardsMenu.personalBoards"))+" ")]),e._l(e.personalBoards,(function(t){return a("button",{key:t.id,staticClass:"dropdown-item",attrs:{type:"button"},on:{click:function(a){return e.openBoard(t)}}},[e._v(" "+e._s(t.name)+" ")])})),e._l(e.teamBoards,(function(t){return a("div",{key:"t"+t.id},[a("h6",{staticClass:"dropdown-header"},[e._v(e._s(t.name))]),e._l(t.boards,(function(t){return a("button",{key:t.id,staticClass:"dropdown-item",attrs:{type:"button"},on:{click:function(a){return e.openBoard(t)}}},[e._v(" "+e._s(t.name)+" ")])}))],2)}))],2)])])]),a("div",{staticClass:"search-box flex-fill"},[a("div",{staticClass:"search-wrapper"},[a("font-awesome-icon",{staticClass:"search-icon",attrs:{icon:"search"}}),a("input",{staticClass:"form-control form-control-sm",attrs:{type:"text",placeholder:e.$t("header.search")}})],1)]),a("div",{staticClass:"profile-menu-toggle"},[a("div",{staticClass:"dropdown"},[a("button",{staticClass:"btn dropdown-toggle",attrs:{type:"button",id:"profileMenu","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[e._v(" "+e._s(e.user.name)+" ")]),a("div",{staticClass:"dropdown-menu",attrs:{"aria-labelledby":"profileMenu"}},[a("button",{staticClass:"dropdown-item",attrs:{type:"button",disabled:!0}},[e._v(" "+e._s(e.$t("header.profile"))+" ")]),a("button",{staticClass:"dropdown-item",attrs:{type:"button"},on:{click:function(t){return e.signOut()}}},[e._v(" "+e._s(e.$t("header.signOut"))+" ")])])])])])},_=[],w=a("2f62"),$=a("bc3a"),y=a.n($),L=a("2ef0"),x=a.n(L),P=a("a925"),k=a("ab72"),A=k;n["a"].use(P["a"]);var N=new P["a"]({locale:"en_US",messages:{en_US:A}}),M=new n["a"]({}),T=M,O={parse:function(e){if(e.response){var t=e.response.status,a=e.response.data;return 400===t?a&&a.message?new Error(a.message):new Error(N.t("error.request.bad")):401===t?(T.$emit("user.unauthenticated"),new Error(N.t("error.request.notAuthorized"))):403===t?new Error(N.t("error.request.forbidden")):404===t?new Error(N.t("error.request.notFound")):500===t?a&&a.message?new Error(a.message):new Error(N.t("error.request.unknownServerError")):new Error(N.t("error.request.failed"))}return e.request?new Error(N.t("error.request.noResponse")):x.a.isError(e)?e:new Error(e)}},I={getMyData:function(){return new Promise((function(e,t){y.a.get("/me").then((function(t){var a=t.data;e(a),T.$emit("myDataFetched",a)})).catch((function(e){t(O.parse(e))}))}))},signOut:function(){return new Promise((function(e,t){y.a.post("/me/logout").then((function(t){var a=t.data;e(a)})).catch((function(e){t(O.parse(e))}))}))}},F=a("7329"),B=a.n(F),q=function(e){new B.a({type:"error",theme:"relax",closeWith:["click","button"],text:e}).show()},E=function(){B.a.closeAll()},D={error:q,closeAll:E},U={name:"PageHeader",computed:Object(v["a"])({},Object(w["b"])(["user","hasBoards","personalBoards","teamBoards"])),mounted:function(){this.user.authenticated||this.$store.dispatch("getMyData")},methods:{goHome:function(){this.$router.push({name:"home"})},openBoard:function(e){this.$router.push({name:"board",params:{boardId:e.id}})},signOut:function(){var e=this;this.$rt.logout(),I.signOut().then((function(){e.$store.dispatch("logout"),e.$router.push({name:"login"})})).catch((function(e){D.error(e.message)}))}}},R=U,j=(a("2e82"),Object(l["a"])(R,C,_,!1,null,"e12012e4",null)),S=j.exports,Q=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("form",{on:{submit:function(t){return t.preventDefault(),e.saveBoard(t)}}},[a("div",{staticClass:"modal",attrs:{tabindex:"-1",role:"dialog",backdrop:"static",id:"createBoardModal"}},[a("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[a("h5",{staticClass:"modal-title"},[e._v("Create Board")]),a("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:e.close}},[a("span",{attrs:{"aria-hidden":"true"}},[e._v("×")])])]),a("div",{staticClass:"modal-body"},[a("div",{directives:[{name:"show",rawName:"v-show",value:e.errorMessage,expression:"errorMessage"}],staticClass:"alert alert-danger failed"},[e._v(" "+e._s(e.errorMessage)+" ")]),a("div",{staticClass:"form-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.board.name,expression:"board.name"}],staticClass:"form-control",attrs:{type:"text",id:"boardNameInput",placeholder:"Board name",maxlength:"128"},domProps:{value:e.board.name},on:{input:function(t){t.target.composing||e.$set(e.board,"name",t.target.value)}}}),e.$v.board.name.$dirty?a("div",{staticClass:"field-error"},[e.$v.board.name.required?e._e():a("div",{staticClass:"error"},[e._v(" Name is required ")])]):e._e()]),a("div",{staticClass:"form-group"},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.board.description,expression:"board.description"}],staticClass:"form-control",attrs:{placeholder:"Add board description here"},domProps:{value:e.board.description},on:{input:function(t){t.target.composing||e.$set(e.board,"description",t.target.value)}}}),e.$v.board.description.$dirty?a("div",{staticClass:"field-error"},[e.$v.board.description.required?e._e():a("div",{staticClass:"error"},[e._v(" Description is required ")])]):e._e()])]),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-primary",attrs:{type:"submit"}},[e._v("Create")]),a("button",{staticClass:"btn btn-default btn-cancel",attrs:{type:"button"},on:{click:e.close}},[e._v(" Cancel ")])])])])])])},H=[],z=(a("a4d3"),a("e01a"),a("b0c0"),a("b5ae")),J={create:function(e){return new Promise((function(t,a){y.a.post("/boards",e).then((function(e){var a=e.data;t(a)})).catch((function(e){a(O.parse(e))}))}))},addMember:function(e,t){return new Promise((function(a,r){y.a.post("/boards/"+e+"/members",{usernameOrEmailAddress:t}).then((function(e){var t=e.data;a(t)})).catch((function(e){r(O.parse(e))}))}))},getBoard:function(e){return new Promise((function(t,a){y.a.get("/boards/"+e).then((function(e){var a=e.data;t(a)})).catch((function(e){a(O.parse(e))}))}))}},W={name:"CreateBoardModal",props:["teamId"],data:function(){return{board:{name:"",description:""},errorMessage:""}},validations:{board:{name:{required:z["required"]},description:{required:z["required"]}}},mounted:function(){b()("#createBoardModal").on("shown.bs.modal",(function(){b()("#boardNameInput").trigger("focus")}))},methods:{saveBoard:function(){var e=this;if(this.$v.$touch(),!this.$v.$invalid){var t={teamId:this.teamId,name:this.board.name,description:this.board.description};J.create(t).then((function(t){e.$store.dispatch("addBoard",t),e.$emit("created",t.id),e.close()})).catch((function(t){e.errorMessage=t.message}))}},close:function(){this.$v.$reset(),this.board.name="",this.board.description="",this.errorMessage="",b()("#createBoardModal").modal("hide")}}},Y=W,X=(a("a77e"),Object(l["a"])(Y,Q,H,!1,null,"22cb1792",null)),G=X.exports,K=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("form",{on:{submit:function(t){return t.preventDefault(),e.saveTeam(t)}}},[a("div",{staticClass:"modal",attrs:{tabindex:"-1",role:"dialog",backdrop:"static",id:"createTeamModal"}},[a("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[a("h5",{staticClass:"modal-title"},[e._v("Create Team")]),a("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:e.close}},[a("span",{attrs:{"aria-hidden":"true"}},[e._v("×")])])]),a("div",{staticClass:"modal-body"},[a("div",{directives:[{name:"show",rawName:"v-show",value:e.errorMessage,expression:"errorMessage"}],staticClass:"alert alert-danger failed"},[e._v(" "+e._s(e.errorMessage)+" ")]),a("div",{staticClass:"form-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.team.name,expression:"team.name"}],staticClass:"form-control",attrs:{type:"text",id:"teamNameInput",placeholder:"Team name",maxlength:"128"},domProps:{value:e.team.name},on:{input:function(t){t.target.composing||e.$set(e.team,"name",t.target.value)}}}),e.$v.team.name.$dirty?a("div",{staticClass:"field-error"},[e.$v.team.name.required?e._e():a("div",{staticClass:"error"},[e._v(" Name is required ")])]):e._e()])]),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-primary",attrs:{type:"submit"}},[e._v("Create")]),a("button",{staticClass:"btn btn-default btn-cancel",attrs:{type:"button"},on:{click:e.close}},[e._v(" Cancel ")])])])])])])},V=[],Z={create:function(e){return new Promise((function(t,a){y.a.post("/teams",e).then((function(e){var a=e.data;t(a)})).catch((function(e){a(O.parse(e))}))}))}},ee={name:"CreateTeamModal",data:function(){return{team:{name:""},errorMessage:""}},validations:{team:{name:{required:z["required"]}}},mounted:function(){b()("#createTeamModal").on("shown.bs.modal",(function(){b()("#teamNameInput").trigger("focus")}))},methods:{saveTeam:function(){var e=this;this.$v.$touch(),this.$v.$invalid||Z.create(this.team).then((function(t){e.$store.dispatch("addTeam",t),e.close()})).catch((function(t){e.errorMessage=t.message}))},close:function(){this.$v.$reset(),this.team.name="",this.errorMessage="",b()("#createTeamModal").modal("hide")}}},te=ee,ae=(a("1d84"),Object(l["a"])(te,K,V,!1,null,"56836dd8",null)),re=ae.exports,se={name:"HomePage",data:function(){return{selectedTeamId:0}},computed:Object(v["a"])({},Object(w["b"])(["personalBoards","teamBoards"])),components:{PageHeader:S,CreateBoardModal:G,CreateTeamModal:re},methods:{openBoard:function(e){this.$router.push({name:"board",params:{boardId:e.id}})},createBoard:function(e){this.selectedTeamId=e?e.id:0,b()("#createBoardModal").modal("show")},createTeam:function(){b()("#createTeamModal").modal("show")},onBoardCreated:function(e){this.$router.push({name:"board",params:{boardId:e}})}}},ne=se,ie=(a("bbe8"),Object(l["a"])(ne,f,h,!1,null,"63f392db",null)),oe=ie.exports,de=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container public"},[a("div",{staticClass:"row justify-content-center"},[a("div",{staticClass:"form"},[a("Logo"),a("form",{on:{submit:function(t){return t.preventDefault(),e.submitForm(t)}}},[a("div",{directives:[{name:"show",rawName:"v-show",value:e.errorMessage,expression:"errorMessage"}],staticClass:"alert alert-danger failed"},[e._v(" "+e._s(e.errorMessage)+" ")]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"username"}},[e._v(e._s(e.$t("loginPage.form.username.label")))]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.form.username,expression:"form.username"}],staticClass:"form-control",attrs:{type:"text",id:"username"},domProps:{value:e.form.username},on:{input:function(t){t.target.composing||e.$set(e.form,"username",t.target.value)}}}),e.$v.form.username.$dirty?a("div",{staticClass:"field-error"},[e.$v.form.username.required?e._e():a("div",{staticClass:"error"},[e._v(" "+e._s(e.$t("loginPage.form.username.required"))+" ")])]):e._e()]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"password"}},[e._v(e._s(e.$t("loginPage.form.password.label")))]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.form.password,expression:"form.password"}],staticClass:"form-control",attrs:{type:"password",id:"password"},domProps:{value:e.form.password},on:{input:function(t){t.target.composing||e.$set(e.form,"password",t.target.value)}}}),e.$v.form.password.$dirty?a("div",{staticClass:"field-error"},[e.$v.form.password.required?e._e():a("div",{staticClass:"error"},[e._v(" "+e._s(e.$t("loginPage.form.password.required"))+" ")])]):e._e()]),a("button",{staticClass:"btn btn-primary btn-block",attrs:{type:"submit"}},[e._v(" "+e._s(e.$t("loginPage.form.submit"))+" ")]),a("div",{staticClass:"links"},[a("p",{staticClass:"sign-up text-muted"},[e._v(" "+e._s(e.$t("loginPage.form.noAccountYet"))+" "),a("router-link",{staticClass:"link-sign-up",attrs:{to:"register"}},[e._v(e._s(e.$t("loginPage.form.signUpHere")))])],1),a("p",[a("router-link",{attrs:{to:"#"}},[e._v(e._s(e.$t("loginPage.form.forgotPassword")))])],1)])])],1)]),a("PageFooter")],1)},ce=[],le={authenticate:function(e){return new Promise((function(t,a){y.a.post("/authentications",e).then((function(e){var a=e.data;t(a)})).catch((function(e){a(O.parse(e))}))}))}},ue=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"logo-wrapper"},[a("img",{staticClass:"logo",attrs:{src:"/images/logo.png"}}),a("div",{staticClass:"tagline"},[e._v(e._s(e.$t("logo.tagLine")))])])},me=[],pe={name:"Logo"},fe=pe,he=(a("8ab3"),Object(l["a"])(fe,ue,me,!1,null,"4f2238dd",null)),ve=he.exports,ge=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("footer",{staticClass:"footer"},[a("span",{staticClass:"copyright"},[e._v("© 2020 ATMan")]),a("ul",{staticClass:"footer-links list-inline float-right"},[a("li",{staticClass:"list-inline-item"},[a("a",{attrs:{href:"#"}},[e._v(e._s(e.$t("pageFooter.about")))])]),a("li",{staticClass:"list-inline-item"},[a("a",{attrs:{href:"#"}},[e._v(e._s(e.$t("pageFooter.termOfService")))])]),a("li",{staticClass:"list-inline-item"},[a("a",{attrs:{href:"#"}},[e._v(e._s(e.$t("pageFooter.privacyPolicy")))])])])])},be=[],Ce={name:"PageFooter"},_e=Ce,we=(a("7300"),Object(l["a"])(_e,ge,be,!1,null,"48f3f752",null)),$e=we.exports,ye={name:"LoginPage",data:function(){return{form:{username:"",password:""},errorMessage:""}},components:{Logo:ve,PageFooter:$e},validations:{form:{username:{required:z["required"]},password:{required:z["required"]}}},methods:{submitForm:function(){var e=this;this.$v.$touch(),this.$v.$invalid||le.authenticate(this.form).then((function(){e.$router.push({name:"home"}),e.$bus.$emit("authenticated"),D.closeAll()})).catch((function(t){e.errorMessage=t.message}))}}},Le=ye,xe=(a("db95"),Object(l["a"])(Le,de,ce,!1,null,"5e6ca929",null)),Pe=xe.exports,ke=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container public"},[a("div",{staticClass:"row justify-content-center"},[a("div",{staticClass:"form"},[a("Logo"),a("form",{on:{submit:function(t){return t.preventDefault(),e.submitForm(t)}}},[a("div",{directives:[{name:"show",rawName:"v-show",value:e.errorMessage,expression:"errorMessage"}],staticClass:"alert alert-danger failed"},[e._v(" "+e._s(e.errorMessage)+" ")]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"username"}},[e._v(e._s(e.$t("registerPage.form.username.label")))]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.form.username,expression:"form.username"}],staticClass:"form-control",attrs:{type:"text",id:"username"},domProps:{value:e.form.username},on:{input:function(t){t.target.composing||e.$set(e.form,"username",t.target.value)}}}),e.$v.form.username.$dirty?a("div",{staticClass:"field-error"},[e.$v.form.username.required?e._e():a("div",{staticClass:"error"},[e._v(" "+e._s(e.$t("registerPage.form.username.required"))+" ")]),e.$v.form.username.alphaNum?e._e():a("div",{staticClass:"error"},[e._v(" "+e._s(e.$t("registerPage.form.username.alphaNum"))+" ")]),e.$v.form.username.minLength?e._e():a("div",{staticClass:"error"},[e._v(" "+e._s(e.$t("registerPage.form.username.minLength",{minLength:e.$v.form.username.$params.minLength.min}))+" ")]),e.$v.form.username.maxLength?e._e():a("div",{staticClass:"error"},[e._v(" "+e._s(e.$t("registerPage.form.username.maxLength",{maxLength:e.$v.form.username.$params.maxLength.max}))+" ")])]):e._e()]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"emailAddress"}},[e._v(e._s(e.$t("registerPage.form.emailAddress.label")))]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.form.emailAddress,expression:"form.emailAddress"}],staticClass:"form-control",attrs:{type:"email",id:"emailAddress"},domProps:{value:e.form.emailAddress},on:{input:function(t){t.target.composing||e.$set(e.form,"emailAddress",t.target.value)}}}),e.$v.form.emailAddress.$dirty?a("div",{staticClass:"field-error"},[e.$v.form.emailAddress.required?e._e():a("div",{staticClass:"error"},[e._v(" "+e._s(e.$t("registerPage.form.emailAddress.required"))+" ")]),e.$v.form.emailAddress.email?e._e():a("div",{staticClass:"error"},[e._v(" "+e._s(e.$t("registerPage.form.emailAddress.email"))+" ")]),e.$v.form.emailAddress.maxLength?e._e():a("div",{staticClass:"error"},[e._v(" "+e._s(e.$t("registerPage.form.emailAddress.maxLength",{maxLength:e.$v.form.emailAddress.$params.maxLength.max}))+" ")])]):e._e()]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"firstName"}},[e._v(e._s(e.$t("registerPage.form.firstName.label")))]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.form.firstName,expression:"form.firstName"}],staticClass:"form-control",attrs:{type:"text",id:"firstName"},domProps:{value:e.form.firstName},on:{input:function(t){t.target.composing||e.$set(e.form,"firstName",t.target.value)}}}),e.$v.form.firstName.$dirty?a("div",{staticClass:"field-error"},[e.$v.form.firstName.required?e._e():a("div",{staticClass:"error"},[e._v(" "+e._s(e.$t("registerPage.form.firstName.required"))+" ")]),e.$v.form.firstName.alpha?e._e():a("div",{staticClass:"error"},[e._v(" "+e._s(e.$t("registerPage.form.firstName.alpha"))+" ")]),e.$v.form.firstName.minLength?e._e():a("div",{staticClass:"error"},[e._v(" "+e._s(e.$t("registerPage.form.firstName.minLength",{minLength:e.$v.form.firstName.$params.minLength.min}))+" ")]),e.$v.form.firstName.maxLength?e._e():a("div",{staticClass:"error"},[e._v(" "+e._s(e.$t("registerPage.form.firstName.maxLength",{maxLength:e.$v.form.firstName.$params.maxLength.max}))+" ")])]):e._e()]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"lastName"}},[e._v(e._s(e.$t("registerPage.form.lastName.label")))]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.form.lastName,expression:"form.lastName"}],staticClass:"form-control",attrs:{type:"text",id:"lastName"},domProps:{value:e.form.lastName},on:{input:function(t){t.target.composing||e.$set(e.form,"lastName",t.target.value)}}}),e.$v.form.lastName.$dirty?a("div",{staticClass:"field-error"},[e.$v.form.lastName.required?e._e():a("div",{staticClass:"error"},[e._v(" "+e._s(e.$t("registerPage.form.lastName.required"))+" ")]),e.$v.form.lastName.alpha?e._e():a("div",{staticClass:"error"},[e._v(" "+e._s(e.$t("registerPage.form.lastName.alpha"))+" ")]),e.$v.form.lastName.minLength?e._e():a("div",{staticClass:"error"},[e._v(" "+e._s(e.$t("registerPage.form.lastName.minLength",{minLength:e.$v.form.lastName.$params.minLength.min}))+" ")]),e.$v.form.lastName.maxLength?e._e():a("div",{staticClass:"error"},[e._v(" "+e._s(e.$t("registerPage.form.lastName.maxLength",{maxLength:e.$v.form.lastName.$params.maxLength.max}))+" ")])]):e._e()]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"password"}},[e._v(e._s(e.$t("registerPage.form.password.label")))]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.form.password,expression:"form.password"}],staticClass:"form-control",attrs:{type:"password",id:"password"},domProps:{value:e.form.password},on:{input:function(t){t.target.composing||e.$set(e.form,"password",t.target.value)}}}),e.$v.form.password.$dirty?a("div",{staticClass:"field-error"},[e.$v.form.password.required?e._e():a("div",{staticClass:"error"},[e._v(" "+e._s(e.$t("registerPage.form.password.required"))+" ")]),e.$v.form.password.minLength?e._e():a("div",{staticClass:"error"},[e._v(" "+e._s(e.$t("registerPage.form.password.minLength",{minLength:e.$v.form.password.$params.minLength.min}))+" ")]),e.$v.form.password.maxLength?e._e():a("div",{staticClass:"error"},[e._v(" "+e._s(e.$t("registerPage.form.password.maxLength",{maxLength:e.$v.form.password.$params.maxLength.max}))+" ")])]):e._e()]),a("button",{staticClass:"btn btn-primary btn-block",attrs:{type:"submit"}},[e._v(" "+e._s(e.$t("registerPage.form.submit"))+" ")]),a("p",{staticClass:"accept-terms text-muted"},[a("i18n",{staticClass:"accept-terms text-muted",attrs:{path:"registerPage.form.terms.accept",tag:"p"}},[a("a",{attrs:{place:"termsOfService",href:"#"}},[e._v(e._s(e.$t("registerPage.form.terms.termsOfService")))]),a("a",{attrs:{place:"privacyPolicy",href:"#"}},[e._v(e._s(e.$t("registerPage.form.terms.privacyPolicy")))])])],1),a("p",{staticClass:"text-center text-muted"},[e._v(" "+e._s(e.$t("registerPage.form.alreadyHaveAccount"))+" "),a("router-link",{attrs:{to:"login"}},[e._v(e._s(e.$t("registerPage.form.signIn")))])],1)])],1)]),a("PageFooter")],1)},Ae=[],Ne={register:function(e){return new Promise((function(t,a){y.a.post("/registrations",e).then((function(e){var a=e.data;t(a)})).catch((function(e){a(O.parse(e))}))}))}},Me={name:"RegisterPage",data:function(){return{form:{username:"",emailAddress:"",firstName:"",lastName:"",password:""},errorMessage:""}},components:{Logo:ve,PageFooter:$e},validations:{form:{username:{required:z["required"],minLength:Object(z["minLength"])(2),maxLength:Object(z["maxLength"])(50),alphaNum:z["alphaNum"]},emailAddress:{required:z["required"],email:z["email"],maxLength:Object(z["maxLength"])(100)},firstName:{required:z["required"],minLength:Object(z["minLength"])(1),maxLength:Object(z["maxLength"])(45),alpha:z["alpha"]},lastName:{required:z["required"],minLength:Object(z["minLength"])(1),maxLength:Object(z["maxLength"])(45),alpha:z["alpha"]},password:{required:z["required"],minLength:Object(z["minLength"])(6),maxLength:Object(z["maxLength"])(30)}}},methods:{submitForm:function(){var e=this;this.$v.$touch(),this.$v.$invalid||Ne.register(this.form).then((function(){e.$router.push({name:"login"})})).catch((function(t){e.errorMessage="Failed to register user. "+t.message}))}}},Te=Me,Oe=(a("5200"),Object(l["a"])(Te,ke,Ae,!1,null,"47d55b86",null)),Ie=Oe.exports,Fe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"show",rawName:"v-show",value:e.board.id,expression:"board.id"}],staticClass:"page"},[a("PageHeader"),a("div",{staticClass:"page-body"},[a("div",{staticClass:"board-wrapper"},[a("div",{staticClass:"board"},[a("div",{staticClass:"board-header clearfix"},[a("div",{staticClass:"board-name board-header-item"},[e._v(e._s(e.board.name))]),a("div",{staticClass:"board-header-divider"}),a("div",{staticClass:"team-name board-header-item"},[e.board.personal?e._e():a("span",[e._v(e._s(e.team.name))]),e.board.personal?a("span",[e._v("Personal")]):e._e()]),a("div",{staticClass:"board-header-divider"}),a("div",{staticClass:"board-members board-header-item"},[e._l(e.members,(function(t){return a("div",{key:t.id,staticClass:"member"},[a("span",[e._v(e._s(t.shortName))])])})),a("div",{staticClass:"member add-member-toggle",on:{click:function(t){return e.openAddMember()}}},[a("span",[a("font-awesome-icon",{attrs:{icon:"user-plus"}})],1)])],2)]),a("div",{staticClass:"board-body"},[a("draggable",{staticClass:"list-container",attrs:{options:{handle:".list-header",animation:0,scrollSensitivity:100,touchStartThreshold:20}},on:{end:e.onCardListDragEnded},model:{value:e.cardLists,callback:function(t){e.cardLists=t},expression:"cardLists"}},[e._l(e.cardLists,(function(t){return a("div",{key:t.id,staticClass:"list-wrapper"},[a("div",{staticClass:"list"},[a("div",{staticClass:"list-header"},[e._v(e._s(t.name))]),a("draggable",{staticClass:"cards",attrs:{options:{draggable:".card-item",group:"cards",ghostClass:"ghost-card",animation:0,scrollSensitivity:100,touchStartThreshold:20},"data-list-id":t.id},on:{end:e.onCardDragEnded},model:{value:t.cards,callback:function(a){e.$set(t,"cards",a)},expression:"cardList.cards"}},[e._l(t.cards,(function(t){return a("div",{key:t.id,staticClass:"card-item",on:{click:function(a){return e.openCard(t)}}},[t.coverImage?a("div",{staticClass:"cover-image"},[a("img",{attrs:{src:t.coverImage}})]):e._e(),a("div",{staticClass:"card-title"},[e._v(e._s(t.title))])])})),t.cardForm.open?a("div",{staticClass:"add-card-form-wrapper"},[a("form",{staticClass:"add-card-form",on:{submit:function(a){return a.preventDefault(),e.addCard(t)}}},[a("div",{staticClass:"form-group"},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.cardForm.title,expression:"cardList.cardForm.title"}],staticClass:"form-control",attrs:{id:"cardTitle"+t.id,placeholder:"Type card title here"},domProps:{value:t.cardForm.title},on:{keydown:function(a){return!a.type.indexOf("key")&&e._k(a.keyCode,"enter",13,a.key,"Enter")?null:(a.preventDefault(),e.addCard(t))},input:function(a){a.target.composing||e.$set(t.cardForm,"title",a.target.value)}}})]),a("button",{staticClass:"btn btn-sm btn-primary",attrs:{type:"submit"}},[e._v(" Add ")]),a("button",{staticClass:"btn btn-sm btn-link btn-cancel",attrs:{type:"button"},on:{click:function(a){return e.closeAddCardForm(t)}}},[e._v(" Cancel ")])])]):e._e()],2),a("div",{directives:[{name:"show",rawName:"v-show",value:!t.cardForm.open,expression:"!cardList.cardForm.open"}],staticClass:"add-card-button",on:{click:function(a){return e.openAddCardForm(t)}}},[e._v(" + Add a card ")])],1)])})),a("div",{staticClass:"list-wrapper add-list"},[a("div",{directives:[{name:"show",rawName:"v-show",value:!e.addListForm.open,expression:"!addListForm.open"}],staticClass:"add-list-button",on:{click:function(t){return e.openAddListForm()}}},[e._v(" + Add a list ")]),a("form",{directives:[{name:"show",rawName:"v-show",value:e.addListForm.open,expression:"addListForm.open"}],staticClass:"add-list-form",on:{submit:function(t){return t.preventDefault(),e.addCardList()}}},[a("div",{staticClass:"form-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.addListForm.name,expression:"addListForm.name"}],staticClass:"form-control",attrs:{type:"text",id:"cardListName",placeholder:"Type list name here"},domProps:{value:e.addListForm.name},on:{input:function(t){t.target.composing||e.$set(e.addListForm,"name",t.target.value)}}})]),a("button",{staticClass:"btn btn-sm btn-primary",attrs:{type:"submit"}},[e._v(" Add List ")]),a("button",{staticClass:"btn btn-sm btn-link btn-cancel",attrs:{type:"button"},on:{click:function(t){return e.closeAddListForm()}}},[e._v(" Cancel ")])])])],2)],1)])])]),a("AddMemberModal",{attrs:{boardId:e.board.id},on:{added:e.onMemberAdded}}),a("CardModal",{attrs:{card:e.openedCard,cardList:e.focusedCardList,board:e.board,members:e.members},on:{coverImageChanged:e.updateCardCoverImage}})],1)},Be=[],qe=(a("4de4"),a("7db0"),a("c740"),a("4160"),a("a434"),a("ac1f"),a("5319"),a("498a"),a("159b"),a("310e")),Ee=a.n(qe),De=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("form",{on:{submit:function(t){return t.preventDefault(),e.addMember(t)}}},[a("div",{staticClass:"modal",attrs:{tabindex:"-1",role:"dialog",backdrop:"static",id:"addMemberModal"}},[a("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[a("h5",{staticClass:"modal-title"},[e._v("Add Member")]),a("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:e.close}},[a("span",{attrs:{"aria-hidden":"true"}},[e._v("×")])])]),a("div",{staticClass:"modal-body"},[a("div",{directives:[{name:"show",rawName:"v-show",value:e.errorMessage,expression:"errorMessage"}],staticClass:"alert alert-danger failed"},[e._v(" "+e._s(e.errorMessage)+" ")]),a("div",{staticClass:"form-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.usernameOrEmailAddress,expression:"usernameOrEmailAddress"}],staticClass:"form-control",attrs:{type:"text",id:"usernameOrEmailAddressInput",placeholder:"Username or email address",maxlength:"128"},domProps:{value:e.usernameOrEmailAddress},on:{input:function(t){t.target.composing||(e.usernameOrEmailAddress=t.target.value)}}}),e.$v.usernameOrEmailAddress.$dirty?a("div",{staticClass:"field-error"},[e.$v.usernameOrEmailAddress.required?e._e():a("div",{staticClass:"error"},[e._v(" This is required ")])]):e._e()])]),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-primary",attrs:{type:"submit"}},[e._v("Add")]),a("button",{staticClass:"btn btn-default btn-cancel",attrs:{type:"button"},on:{click:e.close}},[e._v(" Cancel ")])])])])])])},Ue=[],Re={name:"AddMemberModal",props:["boardId"],data:function(){return{usernameOrEmailAddress:"",errorMessage:""}},validations:{usernameOrEmailAddress:{required:z["required"]}},mounted:function(){b()("#addMemberModal").on("shown.bs.modal",(function(){b()("#usernameOrEmailAddressInput").trigger("focus")}))},methods:{addMember:function(){var e=this;this.$v.$touch(),this.$v.$invalid||J.addMember(this.boardId,this.usernameOrEmailAddress).then((function(t){e.$emit("added",t),e.close()})).catch((function(t){e.errorMessage=t.message}))},close:function(){this.$v.$reset(),this.usernameOrEmailAddress="",this.errorMessage="",b()("#addMemberModal").modal("hide")}}},je=Re,Se=(a("fd53"),Object(l["a"])(je,De,Ue,!1,null,"5dd4d976",null)),Qe=Se.exports,He=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"modal",attrs:{tabindex:"-1",role:"dialog",backdrop:"static",id:"cardModal"}},[a("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[a("font-awesome-icon",{staticClass:"card-title-icon",attrs:{icon:"window-maximize"}}),a("h4",{staticClass:"modal-title"},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.title,expression:"title"}],staticClass:"auto-size",attrs:{id:"cardTitle"},domProps:{value:e.title},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:(t.preventDefault(),e.changeCardTitle(t))},input:function(t){t.target.composing||(e.title=t.target.value)}}}),a("div",{staticClass:"meta-card-list"},[e._v("in list "+e._s(e.cardList.name))])]),a("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:e.close}},[a("span",{attrs:{"aria-hidden":"true"}},[e._v("×")])])],1),a("div",{staticClass:"modal-body"},[a("div",{staticClass:"card-container"},[a("div",{directives:[{name:"show",rawName:"v-show",value:e.assignees.length,expression:"assignees.length"}],staticClass:"wrapper assignee-wrapper"},[a("div",{staticClass:"wrapper-body"})]),a("div",{staticClass:"wrapper description-wrapper"},[a("div",{staticClass:"wrapper-body"},[a("div",{directives:[{name:"show",rawName:"v-show",value:!e.editingDescription,expression:"!editingDescription"}],staticClass:"empty-tip",on:{click:e.showEditDescription}},[e._v(" Description "),a("font-awesome-icon",{attrs:{icon:"pencil-alt"}})],1),a("form",{directives:[{name:"show",rawName:"v-show",value:e.editingDescription,expression:"editingDescription"}],staticClass:"description-form",on:{submit:function(t){return t.preventDefault(),e.changeCardDescription(t)}}},[a("div",{staticClass:"form-group"},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.description,expression:"description"}],staticClass:"auto-size",attrs:{id:"cardDescription"},domProps:{value:e.description},on:{input:function(t){t.target.composing||(e.description=t.target.value)}}})]),a("button",{staticClass:"btn btn-primary",attrs:{type:"submit"}},[e._v("Save")]),a("span",{staticClass:"btn btn-link btn-cancel",on:{click:e.cancelEditDescription}},[e._v("Cancel")]),a("span",{staticClass:"format-support float-right"},[e._v("Support Markdown")])]),a("div",{directives:[{name:"show",rawName:"v-show",value:e.description&&!e.editingDescription,expression:"description && !editingDescription"}],staticClass:"description",domProps:{innerHTML:e._s(e.descriptionHtml)}})])]),a("div",{directives:[{name:"show",rawName:"v-show",value:e.attachments.length||e.uploadingCount,expression:"attachments.length || uploadingCount"}],staticClass:"wrapper attachments-wrapper"},[a("h5",[a("font-awesome-icon",{staticClass:"icon",attrs:{icon:"paperclip"}}),a("span",[e._v("Attachments")])],1),a("div",{staticClass:"wrapper-body"},[a("div",{directives:[{name:"show",rawName:"v-show",value:e.uploadingCount,expression:"uploadingCount"}],staticClass:"uploading"},[a("font-awesome-icon",{staticClass:"fa-spin",attrs:{icon:"spinner",spin:""}}),e._v("Uploading... ")],1),a("ul",{staticClass:"list-unstyled"},e._l(e.cardAttachments,(function(t){return a("li",{key:t.id,staticClass:"media"},[a("div",{staticClass:"mr-3"},[t.previewUrl?a("div",{staticClass:"preview thumbnail"},[a("img",{attrs:{src:t.previewUrl}})]):e._e(),t.previewUrl?e._e():a("div",{staticClass:"preview file-type"},[e._v(" "+e._s(t.fileType)+" ")])]),a("div",{staticClass:"media-body"},[a("h6",{staticClass:"mt-0 mb-1"},[a("a",{attrs:{href:t.fileUrl,target:"_blank"}},[e._v(e._s(t.fileName))])]),a("p",{staticClass:"when"},[e._v(" Added "+e._s(e.when(t.createdDate))+" ago ")])])])})),0)])]),a("div",{staticClass:"wrapper comment-form-wrapper"},[a("h5",[a("font-awesome-icon",{staticClass:"icon",attrs:{icon:"comment"}}),a("span",[e._v("Add Comment")])],1),a("div",{staticClass:"wrapper-body"},[a("form",{staticClass:"comment-form",on:{submit:function(t){return t.preventDefault(),e.addComment(t)}}},[a("div",{staticClass:"form-group"},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.newComment,expression:"newComment"}],attrs:{placeholder:"Add a comment here"},domProps:{value:e.newComment},on:{input:function(t){t.target.composing||(e.newComment=t.target.value)}}})]),a("button",{staticClass:"btn btn-primary",attrs:{type:"submit",disabled:!e.newComment}},[e._v(" Save ")])])])]),a("div",{staticClass:"wrapper activities-wrapper"},[a("h5",[a("font-awesome-icon",{staticClass:"icon",attrs:{icon:"list-ul"}}),a("span",[e._v("Activities")])],1),a("div",{staticClass:"wrapper-body"},e._l(e.cardActivities,(function(t){return a("div",{key:t.id,staticClass:"activity"},[a("div",[a("strong",[e._v(e._s(t.user.name))]),a("span",{staticClass:"when"},[e._v(e._s(t.when)+" ago")])]),a("div",{staticClass:"detail",class:t.type},[e._v(" "+e._s(t.actionDetail)+" ")])])})),0)])]),a("div",{staticClass:"card-controls"},[a("h5",[e._v("Add to Card")]),a("div",{staticClass:"control",attrs:{disabled:!0}},[a("font-awesome-icon",{staticClass:"icon",attrs:{icon:"user",di:""}}),e._v(" Members ")],1),a("div",{staticClass:"control"},[a("uploader",{attrs:{id:"cardAttachment",url:e.attachmentUploadUrl,icon:"paperclip",label:"Attachment"},on:{uploading:e.onUploadingAttachment,progress:e.onUploadingProgressUpdated,failed:e.onAttachmentUploadFailed,uploaded:e.onAttachmentUploaded}})],1),a("h5",{staticClass:"actions"},[e._v("Actions")]),a("div",{staticClass:"control"},[a("font-awesome-icon",{staticClass:"icon",attrs:{icon:"archive"}}),e._v(" Archive ")],1)])])])])])},ze=[],Je=a("1556"),We=a("19e9"),Ye=a.n(We),Xe=a("339e"),Ge=a.n(Xe),Ke={add:function(e){return new Promise((function(t,a){y.a.post("/cards",e).then((function(e){var a=e.data;t(a)})).catch((function(e){a(O.parse(e))}))}))},changePositions:function(e){return new Promise((function(t,a){y.a.post("/cards/positions",e).then((function(e){var a=e.data;t(a)})).catch((function(e){a(O.parse(e))}))}))},getCard:function(e){return new Promise((function(t,a){y.a.get("/cards/"+e).then((function(e){var a=e.data;t(a)})).catch((function(e){a(O.parse(e))}))}))},changeCardTitle:function(e,t){return new Promise((function(a,r){y.a.put("/cards/"+e+"/title",{title:t}).then((function(e){var t=e.data;a(t)})).catch((function(e){r(O.parse(e))}))}))},changeCardDescription:function(e,t){return new Promise((function(a,r){y.a.put("/cards/"+e+"/description",{description:t}).then((function(e){var t=e.data;a(t)})).catch((function(e){r(O.parse(e))}))}))},addCardComment:function(e,t){return new Promise((function(a,r){y.a.post("/cards/"+e+"/comments",{comment:t}).then((function(e){var t=e.data;a(t)})).catch((function(e){r(O.parse(e))}))}))},getCardActivities:function(e){return new Promise((function(t,a){y.a.get("/cards/"+e+"/activities").then((function(e){var a=e.data;t(a)})).catch((function(e){a(O.parse(e))}))}))},getCardAttachments:function(e){return new Promise((function(t,a){y.a.get("/cards/"+e+"/attachments").then((function(e){var a=e.data;t(a)})).catch((function(e){a(O.parse(e))}))}))}},Ve=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"fileinput-button"},[e.icon?a("font-awesome-icon",{staticClass:"icon",attrs:{icon:e.icon}}):e._e(),e._v(" "+e._s(e.label)+" "),a("input",{attrs:{id:e.id,type:"file",name:"file",multiple:""}})],1)},Ze=[],et=(a("3084"),a("fbe6"),a("cd74"),{name:"Uploader",props:["id","url","icon","label"],watch:{url:function(){var e=this;this.url&&b()("#"+this.id).fileupload({url:this.url,dataType:"json",add:function(t,a){e.$emit("uploading",a.files[0]),a.submit()},fail:function(t,a){e.$emit("failed",a._response.jqXHR.responseJSON.message)},done:function(t,a){e.$emit("uploaded",a.result)},progress:function(t,a){var r=parseInt(a.loaded/a.total*100,10);e.$emit("progress",r)}})}}}),tt=et,at=(a("2c95"),Object(l["a"])(tt,Ve,Ze,!1,null,"6db423c0",null)),rt=at.exports;Ge.a.setOption("strikethrough",!0),Ge.a.setOption("tables",!0);var st=new Ge.a.Converter,nt={name:"CardModal",props:["card","cardList","board","members"],data:function(){return{cardId:0,title:"",description:"",assignees:[],attachments:[],activities:[],newComment:"",editingDescription:!1,detailHidden:!1,uploadingCount:0}},computed:{descriptionHtml:function(){return this.description?st.makeHtml(this.description):""},cardActivities:function(){if(!this.members.length||!this.activities.length)return[];var e={};this.members.forEach((function(t){e[t.id]=t}));var t=[],a=new Date;return this.activities.forEach((function(r){var s=JSON.parse(r.detail),n="";"add-comment"===r.type?n=s.comment:"add-card"===r.type?n="Added this card":"add-attachment"===r.type?n="Added attachment "+s.fileName:"change-card-description"===r.type?n="Changed card description":"change-card-title"===r.type&&(n="Changed card title"),t.push({user:e[r.userId],type:r.type,actionDetail:n,when:Object(Je["a"])(new Date(r.createdDate),a),createdDate:r.createdDate})})),t.sort((function(e,t){return t.createdDate-e.createdDate})),t},cardAttachments:function(){var e=[];return this.attachments.forEach((function(t){e.push(t)})),e.sort((function(e,t){return t.createdDate-e.createdDate}))},attachmentUploadUrl:function(){return this.card.id?"/api/cards/"+this.card.id+"/attachments":""}},components:{Uploader:rt},watch:{card:function(){this.cardId=this.card.id,this.title=this.card.title,this.description=this.card.description}},mounted:function(){var e=this;setTimeout((function(){Ye()(b()(".auto-size"))}),0),b()("#cardModal").on("show.bs.modal",(function(){setTimeout((function(){Ye.a.update(b()(".auto-size"))}),0),e.loadActivities(),e.loadAttachments()}))},methods:{changeCardTitle:function(){var e=this;Ke.changeCardTitle(this.cardId,this.title).then((function(){e.$emit("titleChanged",{cardId:e.cardId,title:e.title}),b()("#cardModal").focus()})).catch((function(e){D.error(e.message)}))},changeCardDescription:function(){var e=this;Ke.changeCardDescription(this.cardId,this.description).then((function(){e.$emit("descriptionChanged",{cardId:e.cardId,description:e.description}),e.editingDescription=!1})).catch((function(e){D.error(e.message)}))},showEditDescription:function(){this.editingDescription=!0,this.$nextTick((function(){b()("#cardDescription").focus(),Ye.a.update(b()(".auto-size"))}))},cancelEditDescription:function(){this.editingDescription=!1},addComment:function(){var e=this;Ke.addCardComment(this.cardId,this.newComment).then((function(t){e.newComment="",e.activities.push(t)})).catch((function(e){D.error(e.message)}))},loadActivities:function(){var e=this;Ke.getCardActivities(this.cardId).then((function(t){var a=t.activities;e.activities=a})).catch((function(e){D.error(e.message)}))},loadAttachments:function(){var e=this;Ke.getCardAttachments(this.cardId).then((function(t){var a=t.attachments;e.attachments=a})).catch((function(e){D.error(e.message)}))},onUploadingAttachment:function(){this.uploadingCount++},onUploadingProgressUpdated:function(e){console.log("Uploading progress: "+e+"%")},onAttachmentUploadFailed:function(e){this.uploadingCount--,D.error(e)},onAttachmentUploaded:function(e){this.uploadingCount--,this.attachments.push(e),!this.card.coverImage&&e.previewUrl&&this.$emit("coverImageChanged",{cardId:this.card.id,cardListId:this.cardList.id,coverImage:e.previewUrl})},when:function(e){return Object(Je["a"])(new Date(e),new Date)},close:function(){b()("#cardModal").modal("hide")}}},it=nt,ot=(a("73f7"),Object(l["a"])(it,He,ze,!1,null,"4f472a29",null)),dt=ot.exports,ct={add:function(e){return new Promise((function(t,a){y.a.post("/card-lists",e).then((function(e){var a=e.data;t(a)})).catch((function(e){a(O.parse(e))}))}))},changePositions:function(e){return new Promise((function(t,a){y.a.post("/card-lists/positions",e).then((function(e){var a=e.data;t(a)})).catch((function(e){a(O.parse(e))}))}))}},lt={name:"BoardPage",data:function(){return{board:{id:0,name:"",personal:!1},cardLists:[],team:{name:""},members:[],addListForm:{open:!1,name:""},openedCard:{}}},computed:{focusedCardList:function(){var e=this;return this.cardLists.filter((function(t){return t.id===e.openedCard.cardListId}))[0]||{}}},components:{PageHeader:S,AddMemberModal:Qe,CardModal:dt,draggable:Ee.a},watch:{$route:function(e,t){var a=this;e.name===t.name&&"board"===e.name&&(this.unsubscribeFromRealTimeUpdate(t.params.boardId),this.loadBoard(e.params.boardId)),"card"===e.name&&"board"===t.name&&this.loadCard(e.params.cardId).then((function(){a.openCardWindow()})),"board"===e.name&&"card"===t.name&&(this.closeCardWindow(),this.openedCard={})}},beforeRouteLeave:function(e,t,a){console.log("[BoardPage] Before route leave"),a(),"card"!==e.name&&this.unsubscribeFromRealTimeUpdate(this.board.id)},mounted:function(){var e=this;console.log("[BoardPage] Mouted"),this.loadInitial(),this.$el.addEventListener("click",this.dismissActiveForms),b()("#cardModal").on("hide.bs.modal",(function(){e.$router.push({name:"board",params:{boardId:e.board.id}})}))},beforeDestroy:function(){this.$el.removeEventListener("click",this.dismissActiveForms)},methods:{loadInitial:function(){var e=this;this.$route.params.cardId?(console.log("[BoardPage] Opened with card URL"),this.loadCard(this.$route.params.cardId).then((function(t){return e.loadBoard(t.boardId)})).then((function(){e.openCardWindow()}))):(console.log("[BoardPage] Opened with board URL"),this.loadBoard(this.$route.params.boardId))},loadCard:function(e){var t=this;return new Promise((function(a){console.log("[BoardPage] Loading card "+e),Ke.getCard(e).then((function(e){t.openedCard=e,a(e)})).catch((function(e){D.error(e.message)}))}))},loadBoard:function(e){var t=this;return new Promise((function(a){console.log("[BoardPage] Loading board "+e),J.getBoard(e).then((function(e){t.team.name=e.team?e.team.name:"",t.board.id=e.board.id,t.board.personal=e.board.personal,t.board.name=e.board.name,t.members.splice(0),e.members.forEach((function(e){t.members.push({id:e.userId,name:e.name,shortName:e.shortName})})),t.cardLists.splice(0),e.cardLists.sort((function(e,t){return e.position-t.position})),e.cardLists.forEach((function(e){e.cards.sort((function(e,t){return e.position-t.position})),t.cardLists.push({id:e.id,name:e.name,cards:e.cards,cardForm:{open:!1,title:""}})})),t.subscribeToRealTimUpdate(e.board.id),a()})).catch((function(e){D.error(e.message)}))}))},dismissActiveForms:function(e){console.log("[BoardPage] Dismissing forms");var t=!0,a=!0;(e.target.closest(".add-card-form")||e.target.closest(".add-card-button"))&&(t=!1),(e.target.closest(".add-list-form")||e.target.closest(".add-list-button"))&&(a=!1),t&&this.cardLists.forEach((function(e){e.cardForm.open=!1})),a&&(this.addListForm.open=!1)},openAddMember:function(){b()("#addMemberModal").modal("show")},onMemberAdded:function(e){this.members.push(e)},addCardList:function(){var e=this;if(this.addListForm.name){var t={boardId:this.board.id,name:this.addListForm.name,position:this.cardLists.length+1};ct.add(t).then((function(t){e.cardLists.push({id:t.id,name:t.name,cards:[],cardForm:{open:!1,title:""}}),e.closeAddListForm()})).catch((function(e){D.error(e.message)}))}},addCard:function(e){var t=this;if(e.cardForm.title.trim()){var a={boardId:this.board.id,cardListId:e.id,title:e.cardForm.title,position:e.cards.length+1};Ke.add(a).then((function(a){t.appendCardToList(e,a),e.cardForm.title="",t.focusCardForm(e)})).catch((function(e){D.error(e.message)}))}},openAddListForm:function(){this.addListForm.open=!0,this.$nextTick((function(){b()("#cardListName").trigger("focus")}))},closeAddListForm:function(){this.addListForm.open=!1,this.addListForm.name=""},openAddCardForm:function(e){this.cardLists.forEach((function(e){e.cardForm.open=!1})),e.cardForm.open=!0,this.focusCardForm(e)},focusCardForm:function(e){this.$nextTick((function(){b()("#cardTitle"+e.id).trigger("focus")}))},closeAddCardForm:function(e){e.cardForm.open=!1},onCardListDragEnded:function(e){console.log("[BoardPage] Card list drag ended",e);var t={boardId:this.board.id,cardListPositions:[]};this.cardLists.forEach((function(e,a){t.cardListPositions.push({cardListId:e.id,position:a+1})})),ct.changePositions(t).catch((function(e){D.error(e.message)}))},onCardDragEnded:function(e){var t=this;console.log("[BoardPage] Card drag ended",e);var a=e.from.dataset.listId,r=e.to.dataset.listId,s=[a];a!==r&&s.push(r);var n={boardId:this.board.id,cardPositions:[]};s.forEach((function(e){var a=t.cardLists.filter((function(t){return t.id===parseInt(e)}))[0];a.cards.forEach((function(t,a){n.cardPositions.push({cardListId:e,cardId:t.id,position:a+1})}))})),Ke.changePositions(n).catch((function(e){D.error(e.message)}))},subscribeToRealTimUpdate:function(e){this.$rt.subscribe("/board/"+e,this.onRealTimeUpdated)},unsubscribeFromRealTimeUpdate:function(e){this.$rt.unsubscribe("/board/"+e,this.onRealTimeUpdated)},onRealTimeUpdated:function(e){console.log("[BoardPage] Real time update received",e),"cardAdded"===e.type&&this.onCardAdded(e.card)},onCardAdded:function(e){var t=this.cardLists.filter((function(t){return t.id===e.cardListId}))[0];t?this.appendCardToList(t,e):console.warn("No card list found by id "+e.cardListId)},appendCardToList:function(e,t){var a=e.cards.findIndex((function(e){return e.id===t.id}));-1===a&&e.cards.push({id:t.id,title:t.title,coverImage:""})},openCard:function(e){var t=e.title.toLowerCase().trim().replace(/\s/g,"-");this.$router.push({name:"card",params:{cardId:e.id,cardTitle:t}})},openCardWindow:function(){console.log("[BoardPage] Open card window "+this.openedCard.id),b()("#cardModal").modal("show")},closeCardWindow:function(){console.log("[BoardPage] Close card window "+this.openedCard.id),b()("#cardModal").modal("hide")},updateCardCoverImage:function(e){var t=this.cardLists.find((function(t){return t.id===e.cardListId})),a=t.cards.find((function(t){return t.id===e.cardId}));a.coverImage=e.coverImage}}},ut=lt,mt=(a("28d1"),Object(l["a"])(ut,Fe,Be,!1,null,"76db3a16",null)),pt=mt.exports;n["a"].use(p["a"]);var ft=new p["a"]({mode:"history",base:"/",routes:[{path:"/",name:"home",component:oe},{path:"/login",name:"login",component:Pe},{path:"/register",name:"register",component:Ie},{path:"/board/:boardId",name:"board",component:pt},{path:"/card/:cardId/:cardTitle",name:"card",component:pt}]}),ht=function(e){return e.user},vt=function(e){return e.boards.length>0},gt=function(e){return e.boards.filter((function(e){return 0===e.teamId}))},bt=function(e){var t=[];return e.teams.forEach((function(a){t.push({id:a.id,name:a.name,boards:e.boards.filter((function(e){return e.teamId===a.id}))})})),t},Ct=function(e){var t=e.commit;t("logout")},_t=function(e){var t=e.commit;I.getMyData().then((function(e){t("updateMyData",e)}))},wt=function(e,t){var a=e.commit;a("addTeam",t)},$t=function(e,t){var a=e.commit;a("addBoard",t)},yt={updateMyData:function(e,t){e.user.name=t.user.name,e.user.authenticated=!0,e.teams=t.teams,e.boards=t.boards},logout:function(e){e.user.name="",e.user.authenticated=!1,e.teams=[],e.boards=[]},addTeam:function(e,t){e.teams.push(t)},addBoard:function(e,t){e.boards.push(t)}};n["a"].use(w["a"]);var Lt={user:{name:null,authenticated:!1},teams:[],boards:[]},xt=new w["a"].Store({state:Lt,getters:r,actions:s,mutations:yt,plugins:[]}),Pt=a("1dce"),kt=a.n(Pt),At=a("ecee"),Nt=a("c074"),Mt=a("ad3d"),Tt=(a("c975"),a("b64b"),a("d4ec")),Ot=a("bee2"),It=a("cc7d"),Ft=a.n(It),Bt=function(){function e(){Object(Tt["a"])(this,e),this.serverUrl=null,this.token=null,this.socket=null,this.authenticated=!1,this.loggedOut=!1,this.triedAttemps=0,this.$bus=new n["a"],this.subscribeQueue={},this.unsubscribeQueue={}}return Object(Ot["a"])(e,[{key:"init",value:function(e,t){this.authenticated?console.warn("[RealTimeClient] WS connection already authenticated."):(console.log("[RealTimeClient] Initializing"),this.serverUrl=e,this.token=t,this.connect())}},{key:"logout",value:function(){console.log("[RealTimeClient] Logging out"),this.subscribeQueue={},this.unsubscribeQueue={},this.authenticated=!1,this.loggedOut=!0,this.socket&&this.socket.close()}},{key:"connect",value:function(){var e=this;console.log("[RealTimeClient] Connecting to "+this.serverUrl),this.socket=new Ft.a(this.serverUrl+"?token="+this.token),this.socket.onopen=function(){e.authenticated=!0,e._onConnected()},this.socket.onmessage=function(t){e._onMessageReceived(t)},this.socket.onerror=function(t){e._onSocketError(t)},this.socket.onclose=function(t){e._onClosed(t)}}},{key:"subscribe",value:function(e,t){if(this._isConnected()){var a={action:"subscribe",channel:e};this._send(a),this.$bus.$on(this._channelEvent(e),t),console.log("[RealTimeClient] Subscribed to channel "+e)}else this._addToSubscribeQueue(e,t)}},{key:"unsubscribe",value:function(e,t){if(!this.loggedOut)if(this._isConnected()){var a={action:"unsubscribe",channel:e};this._send(a),this.$bus.$off(this._channelEvent(e),t),console.log("[RealTimeClient] Unsubscribed from channel "+e)}else this._addToUnsubscribeQueue(e,t)}},{key:"_isConnected",value:function(){return this.socket&&this.socket.readyState===Ft.a.OPEN}},{key:"_onConnected",value:function(){this.triedAttemps=0,T.$emit("RealTimeClient.connected"),console.log("[RealTimeClient] Connected"),this._processQueues()}},{key:"_onMessageReceived",value:function(e){var t=JSON.parse(e.data);console.log("[RealTimeClient] Received message",t),t.channel&&this.$bus.$emit(this._channelEvent(t.channel),JSON.parse(t.payload))}},{key:"_send",value:function(e){this.socket.send(JSON.stringify(e))}},{key:"_onSocketError",value:function(e){console.error("[RealTimeClient] Socket error",e)}},{key:"_onClosed",value:function(e){var t=this;if(console.log("[RealTimeClient] Received close event",e),this.loggedOut)console.log("[RealTimeClient] Logged out"),T.$emit("RealTimeClient.loggedOut");else{if(this.triedAttemps>30)return void console.log("[RealTimeClient] Fail to connect to the server");console.log("[RealTimeClient] Disconnected"),T.$emit("RealTimeClient.disconnected"),setTimeout((function(){t.triedAttemps++,console.log("[RealTimeClient] Reconnecting"),T.$emit("RealTimeClient.reconnecting"),t.connect()}),1e3)}}},{key:"_channelEvent",value:function(e){return"channel:"+e}},{key:"_processQueues",value:function(){var e=this;console.log("[RealTimeClient] Processing subscribe/unsubscribe queues");var t=Object.keys(this.subscribeQueue);t.forEach((function(t){var a=e.subscribeQueue[t];a.forEach((function(a){e.subscribe(t,a),e._removeFromQueue(e.subscribeQueue,t,a)}))}));var a=Object.keys(this.unsubscribeQueue);a.forEach((function(t){var a=e.unsubscribeQueue[t];a.forEach((function(a){e.unsubscribe(t,a),e._removeFromQueue(e.unsubscribeQueue,t,a)}))}))}},{key:"_addToSubscribeQueue",value:function(e,t){console.log("[RealTimeClient] Adding channel subscribe to queue. Channel: "+e),this._removeFromQueue(this.unsubscribeQueue,e,t);var a=this.subscribeQueue[e];a?a.push(t):this.subscribeQueue[e]=[t]}},{key:"_addToUnsubscribeQueue",value:function(e,t){console.log("[RealTimeClient] Adding channel unsubscribe to queue. Channel: "+e),this._removeFromQueue(this.subscribeQueue,e,t);var a=this.unsubscribeQueue[e];a?a.push(a):this.unsubscribeQueue[e]=[t]}},{key:"_removeFromQueue",value:function(e,t,a){var r=e[t];if(r){var s=r.indexOf(a);s>-1&&r.splice(s,1)}}}]),e}(),qt=new Bt;n["a"].use(kt.a),y.a.defaults.baseURL="/api",y.a.defaults.headers.common.Accept="application/json",y.a.interceptors.response.use((function(e){return e}),(function(e){return Promise.reject(e)})),At["c"].add(Nt["d"],Nt["i"],Nt["h"],Nt["c"],Nt["n"],Nt["e"],Nt["o"],Nt["m"],Nt["f"],Nt["a"],Nt["g"],Nt["b"],Nt["l"],Nt["k"],Nt["j"]),n["a"].component("font-awesome-icon",Mt["a"]),n["a"].config.productionTip=!1,n["a"].prototype.$bus=T,n["a"].prototype.$rt=qt,new n["a"]({router:ft,store:xt,i18n:N,render:function(e){return e(m)}}).$mount("#app")},"5c0b":function(e,t,a){"use strict";var r=a("9c0c"),s=a.n(r);s.a},6508:function(e,t,a){},7300:function(e,t,a){"use strict";var r=a("99cd"),s=a.n(r);s.a},"73ba":function(e,t,a){},"73f7":function(e,t,a){"use strict";var r=a("ee85"),s=a.n(r);s.a},"79be":function(e,t,a){},"8ab3":function(e,t,a){"use strict";var r=a("42de"),s=a.n(r);s.a},9458:function(e,t,a){},"99cd":function(e,t,a){},"9c0c":function(e,t,a){},a77e:function(e,t,a){"use strict";var r=a("07ed"),s=a.n(r);s.a},aab8:function(e,t,a){},ab72:function(e){e.exports=JSON.parse('{"logo":{"tagLine":"Advanced task management tool"},"header":{"boardsMenu":{"label":"Boards","noBoard":"No board","personalBoards":"Personal Boards"},"search":"Search","profile":"Profile","signOut":"Sign Out"},"loginPage":{"form":{"username":{"label":"Username or email address","required":"Username or email address is required"},"password":{"label":"Password","required":"Password is required"},"submit":"Sign in","noAccountYet":"Don\'t have an account yet?","signUpHere":"Sign up here","forgotPassword":"Forgot your password?"}},"registerPage":{"form":{"username":{"label":"Username","required":"Username is required","alphaNum":"Username can only contain letters and numbers","minLength":"Username must have at least {minLength} letters.","maxLength":"Username is too long. It can contains maximum {maxLength} letters."},"emailAddress":{"label":"Email address","required":"Email address is required","email":"This is not a valid email address","maxLength":"Email address is too long. It can contains maximum {maxLength} letters."},"firstName":{"label":"First name","required":"First name is required","alpha":"First name can only contain letters","minLength":"First name must have at least {minLength} letters.","maxLength":"First name is too long. It can contains maximum {maxLength} letters."},"lastName":{"label":"Last name","required":"Last name is required","alpha":"Last name can only contain letters","minLength":"Last name must have at least {minLength} letters.","maxLength":"Last name is too long. It can contains maximum {maxLength} letters."},"password":{"label":"Password","required":"Password is required","minLength":"Password is too short. It can contains at least {minLength} letters.","maxLength":"Password is too long. It can contains maximum {maxLength} letters."},"submit":"Create account","terms":{"accept":"By clicking “Create account”, you agree to our {termsOfService} and {privacyPolicy}.","termsOfService":"terms of service","privacyPolicy":"privacy policy"},"alreadyHaveAccount":"Already have an account?","signIn":"Sign in"}},"homePage":{"personalBoards":"Personal Boards","createNewBoard":"Create New Board","createNewTeam":"Create New Team"},"pageFooter":{"about":"About","termOfService":"Terms of Service","privacyPolicy":"Privacy Policy"},"error":{"request":{"bad":"Bad request","notAuthorized":"Request not authorized.","forbidden":"Request forbidden.","notFound":"Request failed. Request endpoint not found on the server.","unknownServerError":"There is an error on the server side. Please try again later.","failed":"Request failed. Please try again later.","noResponse":"Request failed. No response from the server."}}}')},bbe8:function(e,t,a){"use strict";var r=a("d2bd"),s=a.n(r);s.a},d2bd:function(e,t,a){},db95:function(e,t,a){"use strict";var r=a("6508"),s=a.n(r);s.a},e745:function(e,t,a){},e9b7:function(e,t,a){},ee85:function(e,t,a){},fd53:function(e,t,a){"use strict";var r=a("e745"),s=a.n(r);s.a}});
//# sourceMappingURL=app.5504ddf4.js.map